{"version":3,"sources":["webpack:///src/views/BackendStorage.vue","webpack:///./src/views/BackendStorage.vue?64ce","webpack:///./src/views/BackendStorage.vue"],"names":["BackendStorage","id","areaName","storageIp","serverType","capacityUserd","capacityUsable","capacityTotal","FilterFn","y","_iteratorNormalCompletion","index","_step2","value","x","val","_this","this","resetForm","_this2","then","resetFields","views_BackendStorage","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","staticStyle","width","attrs","data","tableLists","border","prop","label","filters","areaNameFilter","filter-method","areaNamefilterTag","filter-placement","scopedSlots","_u","key","fn","scope","effect","content","String","row","placement","type","percentage","Number","toFixed","nativeOn","click","$event","preventDefault","deleteRow","$index","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.87495da261fd7d252ee6.js","sourcesContent":["<template>\n    <div class='backend-storage'>\n\n        <!--<div class=\"dataForm\">\n            <el-dialog title=\"修改客户端所在区域\" :visible.sync=\"visible\" :closeOnClickModal=\"false\" :beforeClose=\"handleClose\">\n                <el-form :model=\"dataForm\" ref=\"dataForm\" labelWidth=\"150px\">\n                    <el-form-item label=\"区域名称：\">\n                        <el-input v-model=\"dataForm.areaName\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"存储ip：\">\n                        <el-input v-model=\"dataForm.storageIp\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"服务器类型：\">\n                        <el-input v-model=\"dataForm.serverType\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"已用容量：\">\n                        <el-slider v-model=\"dataForm.capacityUserd\" :min=\"0\" :max=\"2048\" showInput></el-slider>\n                    </el-form-item>\n                    <el-form-item label=\"可用容量：\">\n                        <el-slider v-model=\"dataForm.capacityUsable\" :min=\"0\" :max=\"2048\" showInput></el-slider>\n                    </el-form-item>\n                    <el-form-item label=\"总容量：\">\n                        <el-slider v-model=\"dataForm.capacityTotal\" :min=\"0\" :max=\"2048\" showInput></el-slider>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"saveForm\">保 存</el-button>\n                        <el-button type=\"info\" @click=\"resetForm\">取 消</el-button>\n                    </el-form-item>\n                </el-form>\n            </el-dialog>\n        </div>-->\n\n        <div class=\"title\">\n            <h2>后端存储列表</h2>\n            <!--<el-button type=\"primary\" @click=\"addRow\">添 加</el-button>-->\n        </div>\n\n        <main class=\"tableLists\">\n\n            <el-table :data=\"tableLists\" border style=\"width:100%\">\n                <el-table-column prop=\"areaName\" label=\"区域名称\" :filters=\"areaNameFilter\" :filter-method=\"areaNamefilterTag\" filter-placement=\"bottom\"></el-table-column>\n                <el-table-column prop=\"storageIp\" label=\"存储ip\"></el-table-column>\n                <el-table-column prop=\"serverType\" label=\"服务器类型\"></el-table-column>\n                <el-table-column prop=\"capacityUserd\" label=\"已用容量\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip effect=\"light\" :content=\"String(scope.row.capacityUserd)\" placement=\"right\">\n                            <el-progress :width=\"60\" type=\"circle\" :percentage=\"Number((scope.row.capacityUserd/scope.row.capacityTotal*100).toFixed(2))\"></el-progress>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"capacityUsable\" label=\"可用容量\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip effect=\"light\" :content=\"String(scope.row.capacityUsable)\" placement=\"right\">\n                            <el-progress :width=\"60\" type=\"circle\" :percentage=\"Number((scope.row.capacityUsable/scope.row.capacityTotal*100).toFixed(2))\"></el-progress>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"capacityTotal\" label=\"总容量\">\n                    <!--<template slot-scope=\"scope\">\n                        <el-tooltip effect=\"light\" :content=\"String(scope.row.capacityTotal)\" placement=\"right\">\n                            <el-progress :width=\"60\" type=\"circle\" :percentage=\"100\"></el-progress>\n                        </el-tooltip>\n                    </template>-->\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"200\">\n                    <template slot-scope=\"scope\">\n                        <!--<el-button type=\"primary\" @click=\"editRow(scope.$index)\">配 置</el-button>-->\n                        <el-button @click.native.prevent=\"deleteRow(scope.$index)\">删 除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </main>\n\n    </div>\n</template>\n\n<style lang='scss'>\n    .backend-storage{}\n</style>\n\n<script>\n    export default {\n        name: 'backend-storage',\n        components: {},\n        data() {\n            return {\n                //表格数据\n                tableLists: [\n                    {id: 1,areaName: '深圳1',storageIp: '0.0.0.0',serverType: '服务器类型',capacityUserd: 1000,capacityUsable: 24,capacityTotal: 1024},\n                    {id: 2,areaName: '深圳2',storageIp: '0.0.0.0',serverType: '服务器类型',capacityUserd: 900,capacityUsable: 124,capacityTotal: 1024},\n                    {id: 3,areaName: '深圳1',storageIp: '0.0.0.0',serverType: '服务器类型',capacityUserd: 800,capacityUsable: 224,capacityTotal: 1024},\n                    {id: 4,areaName: '深圳2',storageIp: '0.0.0.0',serverType: '服务器类型',capacityUserd: 700,capacityUsable: 324,capacityTotal: 1024},\n                ],\n                //表单数据\n                dataForm: {id: null,areaName: '深圳1',storageIp: '0.0.0.0',serverType: '服务器类型',capacityUserd: 1000,capacityUsable: 24,capacityTotal: 1024},\n                //dataForm: {id: null,areaName: '',storageIp: '',serverType: '',capacityUserd: 0,capacityUsable: 0,capacityTotal: 0},\n                visible: false, //表单显示与隐藏\n                areaNameFilter: [], //区域名称过滤\n                editIndex: 0, //点击修改的是哪个索引\n                operate: 0, //判断用户是添加（0）,修改数据（1）\n\n            }\n        },\n        mounted(){\n            //获取过滤数组\n            this.FilterFn();\n        },\n        methods: {\n            //获取过滤数组--通用\n            FilterFn(){\n                let list = [],lists = [],x,y;\n                for(x of this.tableLists){ //变成数据\n                    list.push(x.areaName);\n                }\n                lists = list.filter((item,index,self) => { //过滤数组相同的值\n                    return self.indexOf(item) === index;\n                });\n\n                for(y of lists){\n                    this.areaNameFilter.push({text: y,value: y});\n                }\n            },\n            //筛选必须--区域\n            areaNamefilterTag(value,row){\n                return row.areaName === value;\n            },\n            //点击修改数据\n            editRow(index){\n                this.editIndex = index;\n                this.operate = 1;\n                this.visible = true;\n                for(let x in this.tableLists[index]){\n                    this.dataForm[x] = this.tableLists[index][x];\n                }\n            },\n            //批量选择表单数据\n            handleSelectionChange(val){\n                //console.log(val);\n                this.multipleSelection = val;\n            },\n            //保存数据\n            saveForm(){\n                if(this.operate === 0){ //添加数据\n                    //this.dataForm.id = this.tableLists.length + 1;\n                    //this.tableLists.push(JSON.parse(JSON.stringify(this.dataForm))); //深度复制，数据解耦\n                }else if(this.operate === 1){ //修改数据\n                    for(let x in this.dataForm){\n                        this.tableLists[this.editIndex][x] = this.dataForm[x];\n                    }\n                    setTimeout(() => { //解决快速点击2次时，表单已重置修改信息为空的问题\n                        this.dataForm = {id: null,areaName: '',storageIp: '',serverType: '',capacityUserd: 0,capacityUsable: 0,capacityTotal: 0}; //解决重置无效问题\n                    },500);\n                }\n                this.resetForm();\n            },\n            //删除数据\n            deleteRow(index){\n                this.$confirm('是否删除该数据？','提示',{\n                    confirmButtonText: '删除',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.$message.success({message: '删除数据成功！',center: true,duration: 1200, onClose: () => {\n                        this.tableLists.splice(index,1);\n                    }});\n                }).catch(() => {});\n            },\n            //关闭表单，并重置表单\n            handleClose(){\n                this.resetForm();\n            },\n            //重置并退出\n            resetForm(){\n                this.$refs.dataForm.resetFields();\n                this.visible = false;\n            }\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/BackendStorage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"backend-storage\"},[_vm._m(0),_vm._v(\" \"),_c('main',{staticClass:\"tableLists\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableLists,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"areaName\",\"label\":\"区域名称\",\"filters\":_vm.areaNameFilter,\"filter-method\":_vm.areaNamefilterTag,\"filter-placement\":\"bottom\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storageIp\",\"label\":\"存储ip\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"serverType\",\"label\":\"服务器类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"capacityUserd\",\"label\":\"已用容量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":String(scope.row.capacityUserd),\"placement\":\"right\"}},[_c('el-progress',{attrs:{\"width\":60,\"type\":\"circle\",\"percentage\":Number((scope.row.capacityUserd/scope.row.capacityTotal*100).toFixed(2))}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"capacityUsable\",\"label\":\"可用容量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":String(scope.row.capacityUsable),\"placement\":\"right\"}},[_c('el-progress',{attrs:{\"width\":60,\"type\":\"circle\",\"percentage\":Number((scope.row.capacityUsable/scope.row.capacityTotal*100).toFixed(2))}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"capacityTotal\",\"label\":\"总容量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{nativeOn:{\"click\":function($event){$event.preventDefault();_vm.deleteRow(scope.$index)}}},[_vm._v(\"删 除\")])]}}])})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(\"后端存储列表\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-5933f566\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/BackendStorage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5933f566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./BackendStorage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./BackendStorage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./BackendStorage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5933f566\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./BackendStorage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BackendStorage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}