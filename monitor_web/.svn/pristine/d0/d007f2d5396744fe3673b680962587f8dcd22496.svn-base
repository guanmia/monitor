webpackJsonp([16],{ExS0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("07y0"),r=n("vLgD");function o(t){return Object(r.a)({url:"/admin/client/sgwstatic/list",method:"post",data:t})}var s={name:"storage-agency",components:{},data:function(){return{list:[],loading:!1,regionNameLists:[],region_id:""}},filters:{statusFilter:function(t){return{0:"warning",1:"success"}[t]},statusFilter1:function(t){return{0:"离线",1:"在线"}[t]},transferKB:function(t){switch(!0){case t<1024:return t+"B";case t>=1024&&t<1048576:return Math.round(t/1024)+"KB";case t>=1048576&&t<1073741824:return Math.round(t/1048576)+"MB";case t>=1073741824&&t<1099511627776:return Math.round(t/1073741824)+"GB"}}},created:function(){this.getRegionNameLists()},methods:{getRegionNameLists:function(){var t=this;Object(a.e)({page:1,limit:100}).then(function(e){0===e.error_code&&(e.data.results.forEach(function(e){t.regionNameLists.push({id:e.id,name:e.regionName})}),t.getAllList())})},getAllList:function(){var t=this;this.list=[],this.loading=!0,this.regionNameLists.forEach(function(e){o({region_center_id:e.id}).then(function(e){0===e.error_code&&(e.data.forEach(function(e){t.list.push(e)}),t.loading=!1)})})},getList:function(t){var e=this;""===t?this.getAllList():(this.loading=!0,o({region_center_id:t}).then(function(t){0===t.error_code&&(e.list=t.data,e.loading=!1)}))}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"storage-agency"},[n("div",{staticClass:"title"},[n("h2",[t._v(t._s(t.generateTitle("storageagency")))]),t._v(" "),n("div",{staticClass:"search"},[n("el-select",{attrs:{clearable:""},on:{change:function(e){t.getList(t.region_id)}},model:{value:t.region_id,callback:function(e){t.region_id=e},expression:"region_id"}},t._l(t.regionNameLists,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-download",loading:t.$store.getters.downloadLoading},on:{click:function(e){t.handleDownload(t.list[0],t.list,t.$t("title")+"-"+t.generateTitle("storageagency"))}}},[t._v(t._s(t.$t("table.export")))])],1)]),t._v(" "),n("main",{staticClass:"list"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[n("el-table-column",{attrs:{prop:"sgw_id",label:"ID",width:"60"}}),t._v(" "),n("el-table-column",{attrs:{prop:"region_id",label:t.$t("agency.region_id")}}),t._v(" "),n("el-table-column",{attrs:{prop:"sgw_ip",label:t.$t("agency.sgw_ip")}}),t._v(" "),n("el-table-column",{attrs:{prop:"cpu_percent",label:t.$t("agency.cpu_percent")},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{effect:"dark",content:String(t.row.cpu_percent),placement:"right"}},[n("el-progress",{attrs:{width:60,type:"circle",percentage:t.row.cpu_percent}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"mem_total",label:t.$t("agency.mem_total")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("transferKB")(e.row.mem_total,e.row.cpu_percent)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"mem_free",label:t.$t("agency.mem_free")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("transferKB")(e.row.mem_free,e.row.mem_free)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"disk_used",label:t.$t("agency.disk_used")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("transferKB")(e.row.disk_used,e.row.disk_used)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"disk_free",label:t.$t("agency.disk_free")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("transferKB")(e.row.disk_free,e.row.disk_free)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"netio_input",label:t.$t("agency.netio_input")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("transferKB")(e.row.netio_input,e.row.netio_input)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"netio_output",label:t.$t("agency.netio_output")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("transferKB")(e.row.netio_output,e.row.netio_output)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"conn_state",label:t.$t("agency.conn_state")}}),t._v(" "),n("el-table-column",{attrs:{prop:"conn_dealed",label:t.$t("agency.conn_dealed")}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:t.$t("agency.status")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:t._f("statusFilter")(e.row.status)}},[t._v(t._s(t._f("statusFilter1")(e.row.status)))])]}}])})],1)],1)])},staticRenderFns:[]};var l=n("X4nt")(s,i,!1,function(t){n("HGT/")},null,null);e.default=l.exports},"HGT/":function(t,e){}});
//# sourceMappingURL=16.c2244859bbd357ebe763.js.map