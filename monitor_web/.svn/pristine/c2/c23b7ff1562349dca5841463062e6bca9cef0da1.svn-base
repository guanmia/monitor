webpackJsonp([20],{j0tb:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("vMJZ"),a={name:"findbackpwd",components:{},data:function(){var e=this;return{active:1,visible:!1,resetForm:{email:"",code:"",pass:"",checkPass:""},rules:{email:[{required:!0,message:"E-mail不能为空！",trigger:"blur"},{validator:function(e,t,s){/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(t)?s():s(new Error("输入E-mail格式有误！"))},trigger:"blur"}],code:[{required:!0,message:"验证码不能为空！",trigger:"blur"}],pass:[{required:!0,message:"新密码不能为空！",trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码！",trigger:"blur"},{validator:function(t,s,r){s!==e.resetForm.pass?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]}}},methods:{next:function(){var e=this;switch(this.active){case 1:this.$refs.resetForm.validateField("email",function(t){t||Object(r.h)({email:e.resetForm.email}).then(function(t){0===t.error_code&&e.active++})});break;case 2:this.$refs.resetForm.validateField("code",function(t){if(!t){var s={email:e.resetForm.email,code:e.resetForm.code,password:e.resetForm.pass};Object(r.f)(s).then(function(t){0===t.error_code&&(e.active++,setTimeout(function(){e.$router.push({path:"/login"})},3e3))})}})}}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"findbackpwd"},[s("h2",[e._v("找回密码")]),e._v(" "),s("el-steps",{attrs:{active:e.active,"finish-status":"success","process-status":"wait","align-center":""}},[s("el-step",{attrs:{title:e.$t("findbackpwd.step1")}}),e._v(" "),s("el-step",{attrs:{title:e.$t("findbackpwd.step2")}}),e._v(" "),s("el-step",{attrs:{title:e.$t("findbackpwd.step3")}})],1),e._v(" "),s("div",{staticClass:"resetForm"},[3!==e.active?s("el-form",{ref:"resetForm",attrs:{model:e.resetForm,rules:e.rules,labelWidth:"120px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active === 1"}]},[s("el-form-item",{attrs:{label:"E-mail：",prop:"email"}},[s("el-input",{attrs:{placeholder:e.$t("findbackpwd.emailNote")},model:{value:e.resetForm.email,callback:function(t){e.$set(e.resetForm,"email",t)},expression:"resetForm.email"}})],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:e.next}},[e._v(e._s(e.$t("table.submit"))+" "),s("i",{staticClass:"fa fa-hand-o-right fa-lg"})])],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}]},[s("el-form-item",{attrs:{label:e.$t("findbackpwd.code")+"：",prop:"code"}},[s("el-input",{attrs:{placeholder:e.$t("findbackpwd.codeNote")},model:{value:e.resetForm.code,callback:function(t){e.$set(e.resetForm,"code",t)},expression:"resetForm.code"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("findbackpwd.pass")+"：",prop:"pass"}},[s("el-input",{attrs:{type:"password"},model:{value:e.resetForm.pass,callback:function(t){e.$set(e.resetForm,"pass",t)},expression:"resetForm.pass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("findbackpwd.checkPass")+"：",prop:"checkPass"}},[s("el-input",{attrs:{type:"password"},model:{value:e.resetForm.checkPass,callback:function(t){e.$set(e.resetForm,"checkPass",t)},expression:"resetForm.checkPass"}})],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:e.next}},[e._v(e._s(e.$t("table.submit"))+" "),s("i",{staticClass:"fa fa-hand-o-right fa-lg"})])],1)],1)]):s("div",{staticClass:"success"},[s("h2",[e._v(e._s(e.$t("findbackpwd.updateSuccess")))]),e._v(" "),s("p",[e._v(e._s(e.$t("findbackpwd.tip")))]),e._v(" "),s("el-button",{attrs:{type:"text"}},[s("router-link",{attrs:{to:"/login"}},[e._v(e._s(e.$t("findbackpwd.clickJump")))])],1)],1)],1)],1)},staticRenderFns:[]};var o=s("X4nt")(a,i,!1,function(e){s("voHi")},null,null);t.default=o.exports},voHi:function(e,t){}});
//# sourceMappingURL=20.c14c65cee66aee243e9f.js.map